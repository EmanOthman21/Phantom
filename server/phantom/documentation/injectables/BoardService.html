<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>phantom documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">phantom documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>BoardService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/board/board.service.ts</code>
        </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addBoardtoUser">addBoardtoUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addPintoBoard">addPintoBoard</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#authorizedBoard">authorizedBoard</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#checkBoardHasSection">checkBoardHasSection</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createBoard">createBoard</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createSection">createSection</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteBoard">deleteBoard</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteBoardInMerge">deleteBoardInMerge</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteCollaborator">deleteCollaborator</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deletePin">deletePin</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deletePinFromBoardSection">deletePinFromBoardSection</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteSection">deleteSection</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#editBoard">editBoard</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#editCollaboratoresPermissions">editCollaboratoresPermissions</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#editPin">editPin</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getBoardById">getBoardById</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getBoardFull">getBoardFull</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getCollaboratoresPermissions">getCollaboratoresPermissions</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getCurrentUserBoards">getCurrentUserBoards</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getSectionFull">getSectionFull</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getSomeUserBoards">getSomeUserBoards</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isCollaborator">isCollaborator</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isCreator">isCreator</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isPublicBoard">isPublicBoard</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#merge">merge</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#reorderBoards">reorderBoards</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sortBoardsAtoZ">sortBoardsAtoZ</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sortBoardsDate">sortBoardsDate</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#unsavePin">unsavePin</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(boardModel: <a href="../interfaces/board.html">Model<board></a>, pinModel: <a href="../interfaces/pin.html">Model<pin></a>, topicModel: <a href="../interfaces/topic.html">Model<topic></a>, userModel: <a href="../interfaces/user.html">Model<user></a>, ValidationService: <a href="../injectables/ValidationService.html">ValidationService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="21" class="link-to-prism">src/board/board.service.ts:21</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>boardModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/board.html" target="_self" >Model&lt;board&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>pinModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/pin.html" target="_self" >Model&lt;pin&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>topicModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/topic.html" target="_self" >Model&lt;topic&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>userModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/user.html" target="_self" >Model&lt;user&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>ValidationService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ValidationService.html" target="_self" >ValidationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addBoardtoUser"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            addBoardtoUser
                        </b>
                        <a href="#addBoardtoUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addBoardtoUser(userId, boardId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="265"
                            class="link-to-prism">src/board/board.service.ts:265</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addPintoBoard"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            addPintoBoard
                        </b>
                        <a href="#addPintoBoard"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addPintoBoard(pinId, boardId, sectionId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="53"
                            class="link-to-prism">src/board/board.service.ts:53</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pinId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the pin</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the section</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="authorizedBoard"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            authorizedBoard
                        </b>
                        <a href="#authorizedBoard"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>authorizedBoard(board, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="434"
                            class="link-to-prism">src/board/board.service.ts:434</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>board</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkBoardHasSection"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            checkBoardHasSection
                        </b>
                        <a href="#checkBoardHasSection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkBoardHasSection(board, sectionId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1228"
                            class="link-to-prism">src/board/board.service.ts:1228</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>board</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the section</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Boolean&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createBoard"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            createBoard
                        </b>
                        <a href="#createBoard"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createBoard(name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, startDate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, endDate: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="107"
                            class="link-to-prism">src/board/board.service.ts:107</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>name</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the name of the created board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>startDate</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the startDate of the created board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>endDate</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the endDate of the created board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createSection"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            createSection
                        </b>
                        <a href="#createSection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createSection(boardId, sectionName, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1186"
                            class="link-to-prism">src/board/board.service.ts:1186</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionName</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the name of the section</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteBoard"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            deleteBoard
                        </b>
                        <a href="#deleteBoard"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteBoard(userId, boardId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1044"
                            class="link-to-prism">src/board/board.service.ts:1044</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteBoardInMerge"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            deleteBoardInMerge
                        </b>
                        <a href="#deleteBoardInMerge"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteBoardInMerge(userId, boardId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1128"
                            class="link-to-prism">src/board/board.service.ts:1128</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteCollaborator"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            deleteCollaborator
                        </b>
                        <a href="#deleteCollaborator"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteCollaborator(userId, boardId, collaboratorId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="778"
                            class="link-to-prism">src/board/board.service.ts:778</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>collaboratorId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the collaborator</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deletePin"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            deletePin
                        </b>
                        <a href="#deletePin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deletePin(pinId, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="842"
                            class="link-to-prism">src/board/board.service.ts:842</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pinId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the pin</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deletePinFromBoardSection"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            deletePinFromBoardSection
                        </b>
                        <a href="#deletePinFromBoardSection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deletePinFromBoardSection(pinId, userId, boardId, sectionId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="975"
                            class="link-to-prism">src/board/board.service.ts:975</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pinId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the pin</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the section</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteSection"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            deleteSection
                        </b>
                        <a href="#deleteSection"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteSection(boardId, sectionId, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1334"
                            class="link-to-prism">src/board/board.service.ts:1334</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the section</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="editBoard"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            editBoard
                        </b>
                        <a href="#editBoard"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>editBoard(boardId, userId, editBoardDto: <a href="../classes/EditBoardDto.html">EditBoardDto</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="501"
                            class="link-to-prism">src/board/board.service.ts:501</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardId</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>editBoardDto</td>
                                    <td>
                                                <code><a href="../classes/EditBoardDto.html" target="_self" >EditBoardDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the board new data object</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="editCollaboratoresPermissions"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            editCollaboratoresPermissions
                        </b>
                        <a href="#editCollaboratoresPermissions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>editCollaboratoresPermissions(userId, boardId, editCollaboratoresPermissionsDto: <a href="../classes/EditCollaboratoresPermissionsDto.html">EditCollaboratoresPermissionsDto</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="700"
                            class="link-to-prism">src/board/board.service.ts:700</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the usersa</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>
                                    <td>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>editCollaboratoresPermissionsDto</td>
                                    <td>
                                                <code><a href="../classes/EditCollaboratoresPermissionsDto.html" target="_self" >EditCollaboratoresPermissionsDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the new permissions object</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="editPin"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            editPin
                        </b>
                        <a href="#editPin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>editPin(pinId, boardId, sectionId, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1485"
                            class="link-to-prism">src/board/board.service.ts:1485</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pinId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the pin</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the new pin&#39;s board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the new pin&#39;s section</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBoardById"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getBoardById
                        </b>
                        <a href="#getBoardById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getBoardById(boardId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="35"
                            class="link-to-prism">src/board/board.service.ts:35</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/board.html" target="_self" >Promise&lt;board&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBoardFull"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getBoardFull
                        </b>
                        <a href="#getBoardFull"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getBoardFull(boardId, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1599"
                            class="link-to-prism">src/board/board.service.ts:1599</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCollaboratoresPermissions"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getCollaboratoresPermissions
                        </b>
                        <a href="#getCollaboratoresPermissions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCollaboratoresPermissions(userId, boardId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="639"
                            class="link-to-prism">src/board/board.service.ts:639</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCurrentUserBoards"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getCurrentUserBoards
                        </b>
                        <a href="#getCurrentUserBoards"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCurrentUserBoards(userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="302"
                            class="link-to-prism">src/board/board.service.ts:302</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSectionFull"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getSectionFull
                        </b>
                        <a href="#getSectionFull"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getSectionFull(boardId, sectionId, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1696"
                            class="link-to-prism">src/board/board.service.ts:1696</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the section</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSomeUserBoards"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            getSomeUserBoards
                        </b>
                        <a href="#getSomeUserBoards"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getSomeUserBoards(userId, boardUserId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="366"
                            class="link-to-prism">src/board/board.service.ts:366</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the current user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardUserId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the boards user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isCollaborator"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            isCollaborator
                        </b>
                        <a href="#isCollaborator"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isCollaborator(board, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="480"
                            class="link-to-prism">src/board/board.service.ts:480</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>board</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isCreator"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            isCreator
                        </b>
                        <a href="#isCreator"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isCreator(board, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="468"
                            class="link-to-prism">src/board/board.service.ts:468</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>board</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isPublicBoard"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            isPublicBoard
                        </b>
                        <a href="#isPublicBoard"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isPublicBoard(boardId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="454"
                            class="link-to-prism">src/board/board.service.ts:454</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="merge"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            merge
                        </b>
                        <a href="#merge"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>merge(boardOriginalId, boardMergedId, userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1247"
                            class="link-to-prism">src/board/board.service.ts:1247</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>boardOriginalId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board that will contain the 2 merged boards</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardMergedId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board that will be merged then deleted</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reorderBoards"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            reorderBoards
                        </b>
                        <a href="#reorderBoards"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>reorderBoards(userId, startIndex, positionIndex)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="232"
                            class="link-to-prism">src/board/board.service.ts:232</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>startIndex</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the index of the element needed to be reordered</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>positionIndex</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the index of the new element position in the array</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sortBoardsAtoZ"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            sortBoardsAtoZ
                        </b>
                        <a href="#sortBoardsAtoZ"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sortBoardsAtoZ(userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="179"
                            class="link-to-prism">src/board/board.service.ts:179</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sortBoardsDate"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            sortBoardsDate
                        </b>
                        <a href="#sortBoardsDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sortBoardsDate(userId)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="201"
                            class="link-to-prism">src/board/board.service.ts:201</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="unsavePin"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Async</span>
                            unsavePin
                        </b>
                        <a href="#unsavePin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>unsavePin(pinId, boardId, sectionId, userId, isDelete)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1393"
                            class="link-to-prism">src/board/board.service.ts:1393</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pinId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the pin</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>boardId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the board</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>sectionId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the section</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>userId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>the id of the user</li>
</ul>

                                    </td>
                                </tr>
                                <tr>
                                    <td>isDelete</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <ul>
<li>flag indicates if the unsave is performed in the delete board/section method</li>
</ul>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{}</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Injectable,
  BadRequestException,
  UnauthorizedException,
  NotAcceptableException,
  NotFoundException,
} from &#x27;@nestjs/common&#x27;;
import { Model, Mongoose } from &#x27;mongoose&#x27;;
import * as mongoose from &#x27;mongoose&#x27;;
import { InjectModel } from &#x27;@nestjs/mongoose&#x27;;
import { board } from &#x27;../types/board&#x27;;
import { UserService } from &#x27;../user/user.service&#x27;;
import { pin } from &#x27;../types/pin&#x27;;
import { ValidationService } from &#x27;../shared/validation.service&#x27;;
import { section } from &#x27;../types/board&#x27;;
import { topic } from &#x27;../types/topic&#x27;;
import { EditBoardDto } from &#x27;./dto/edit-board.dto&#x27;;
import { EditCollaboratoresPermissionsDto } from &#x27;./dto/edit-collaboratores-permissions.dto&#x27;;
import { user } from &#x27;../types/user&#x27;;
@Injectable()
export class BoardService {
  constructor(
    @InjectModel(&#x27;Board&#x27;) private readonly boardModel: Model&lt;board&gt;,
    @InjectModel(&#x27;Pin&#x27;) private readonly pinModel: Model&lt;pin&gt;,
    @InjectModel(&#x27;Topic&#x27;) private readonly topicModel: Model&lt;topic&gt;,
    @InjectModel(&#x27;User&#x27;) private readonly userModel: Model&lt;user&gt;,
    private ValidationService: ValidationService,
  ) {}
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description get board document
   * @param {string} boardId - the id of the board
   * @returns  {Promise&lt;board&gt;}
   */
  async getBoardById(boardId): Promise&lt;board&gt; {
    try {
      if (!this.ValidationService.checkMongooseID([boardId]))
        throw new Error(&#x27;not mongoose id&#x27;);
      const board &#x3D; await this.boardModel.findById(boardId);
      return board;
    } catch (ex) {
      throw new Error(&#x27;not found&#x27;);
    }
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description add created or saved pin to board
   * @param {string} pinId - the id of the pin
   * @param {string} boardId - the id of the board
   * @param {string} sectionId - the id of the section
   * @returns  {Promise&lt;boolean&gt;}
   */
  async addPintoBoard(pinId, boardId, sectionId) {
    if ((await this.ValidationService.checkMongooseID([pinId, boardId])) &#x3D;&#x3D; 0) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    if (sectionId) {
      if ((await this.ValidationService.checkMongooseID([sectionId])) &#x3D;&#x3D; 0) {
        throw new BadRequestException(&#x27;not valid section id&#x27;);
      }
    } else {
      sectionId &#x3D; null;
    }

    let board &#x3D; await this.boardModel.findById(boardId, {
      sections: 1,
      pins: 1,
      counts: 1,
    });
    if (!board) throw new NotFoundException();
    let pin &#x3D; await this.pinModel.findById(pinId, {
      topic: 1,
      imageId: 1,
    });

    if (!pin) throw new NotFoundException();

    if (sectionId) {
      for (let i &#x3D; 0; i &lt; board.sections.length; i++) {
        if (String(board.sections[i]._id) &#x3D;&#x3D; String(sectionId)) {
          board.sections[i].pins.push({ pinId: pin._id, topic: pin.topic });

          break;
        }
      }
    } else {
      board.pins.push({
        pinId: pin._id,
        topic: pin.topic,
      });
      board.counts.pins &#x3D; board.counts.pins.valueOf() + 1;
    }
    await board.save().catch(err &#x3D;&gt; {
      console.log(err);
    });
    return true;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description create new board
   * @param {string} name - the name of the created board
   * @param {string} startDate - the startDate of the created board
   * @param {string} endDate - the endDate of the created board
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;object&gt;}
   */
  async createBoard(name: string, startDate: string, endDate: string, userId) {
    userId &#x3D; mongoose.Types.ObjectId(userId);
    let user &#x3D; await this.userModel.findById(
      userId,

      {
        firstName: 1,
        lastName: 1,
      },
    );
    if (!user) throw new NotFoundException(&#x27;no such user&#x27;);
    let sd &#x3D; startDate ? startDate : null;
    let ed &#x3D; endDate ? endDate : null;

    let board &#x3D; new this.boardModel({
      name: name,
      pins: [],
      status: &#x27;public&#x27;,
      startDate: sd,
      endDate: ed,
      createdAt: Date.now(),
      description: &#x27;&#x27;,
      personalization: false,
      collaborators: [],
      sections: [],
      isJoined: false,
      followers: [],
      counts: {
        followers: 0,
        joiners: 0,
        pins: 0,
      },
      coverImages: [],
      creator: {
        firstName: user.firstName,
        lastName: user.lastName,
        id: userId,
      },
    });
    await board.save().catch(err &#x3D;&gt; {
      console.log(err);
    });
    await this.addBoardtoUser(userId, board._id);
    let topics &#x3D; await this.topicModel.find(
      {},
      {
        name: 1,
        recommendedUsers: 1,
      },
    );
    for (let i &#x3D; 0; i &lt; topics.length; i++) {
      if (
        board.name.includes(String(topics[i].name)) ||
        board.description.includes(String(topics[i].name))
      ) {
        if (!topics[i].recommendedUsers) topics[i].recommendedUsers &#x3D; [];
        if (!topics[i].recommendedUsers.includes(user._id)) {
          topics[i].recommendedUsers.push(user._id);
          await topics[i].save();
          break;
        }
      }
    }
    await this.boardModel.ensureIndexes();
    return { _id: board._id };
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description sort user boards alphabetacilly
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;boolean&gt;}
   */
  async sortBoardsAtoZ(userId) {
    userId &#x3D; mongoose.Types.ObjectId(userId);
    let user &#x3D; await this.userModel.findById(
      userId,

      {
        boards: 1,
        sortType: 1,
      },
    );

    await user.boards.sort((a, b) &#x3D;&gt; a.name.localeCompare(b.name.toString()));
    user.sortType &#x3D; &#x27;A-Z&#x27;;
    await user.save();
    return true;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description sort user boards by date
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;boolean&gt;}
   */
  async sortBoardsDate(userId) {
    userId &#x3D; mongoose.Types.ObjectId(userId);
    let user &#x3D; await this.userModel.findById(
      userId,

      {
        boards: 1,
        sortType: 1,
      },
    );
    await user.boards.sort(function(a, b) {
      if (a.createdAt &gt; b.createdAt) {
        return -1;
      }
      if (a.createdAt &lt; b.createdAt) {
        return 1;
      }
      return 0;
    });
    user.sortType &#x3D; &#x27;Date&#x27;;
    await user.save();
    return true;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description reorder user boards
   * @param {string} userId - the id of the user
   * @param {number} startIndex - the index of the element needed to be reordered
   * @param {number} positionIndex - the index of the new element position in the array
   * @returns  {Promise&lt;boolean&gt;}
   */
  async reorderBoards(userId, startIndex, positionIndex) {
    userId &#x3D; mongoose.Types.ObjectId(userId);
    let user &#x3D; await this.userModel.findById(
      userId,

      {
        boards: 1,
        sortType: 1,
      },
    );
    if (
      startIndex &lt; 0 ||
      startIndex &gt;&#x3D; user.boards.length ||
      positionIndex &lt; 1 ||
      positionIndex &gt; user.boards.length
    ) {
      throw new BadRequestException({
        message: &#x27;startIndex or positionIndex are not valid&#x27;,
      });
    }
    let desiredBorder &#x3D; await user.boards.splice(startIndex, 1);
    await user.boards.splice(positionIndex - 1, 0, desiredBorder[0]);
    user.sortType &#x3D; &#x27;Reorder&#x27;;
    await user.save();
    return true;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description add board to user
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @returns  {Promise&lt;boolean&gt;}
   */
  async addBoardtoUser(userId, boardId) {
    if (
      (await this.ValidationService.checkMongooseID([userId, boardId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    boardId &#x3D; mongoose.Types.ObjectId(boardId);
    userId &#x3D; mongoose.Types.ObjectId(userId);
    let board &#x3D; await this.boardModel.findById(boardId, {
      name: 1,
      createdAt: 1,
    });
    let user &#x3D; await this.userModel.findById(userId, {
      boards: 1,
      sortType: 1,
    });
    if (!board) throw new NotFoundException();
    if (!user) throw new NotFoundException();
    let id &#x3D; mongoose.Types.ObjectId(boardId);
    user.boards.push({
      boardId: id,
      name: board.name,
      createdAt: board.createdAt,
      isJoined: false,
      createdOrjoined: &#x27;created&#x27;,
    });
    await user.save().catch(err &#x3D;&gt; {
      console.log(err);
    });
    return true;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description get current user boards
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;Array&lt;object&gt;&gt;}
   */
  async getCurrentUserBoards(userId) {
    if ((await this.ValidationService.checkMongooseID([userId])) &#x3D;&#x3D; 0) {
      throw new BadRequestException(&quot;not valid id&quot;)
    }
    userId &#x3D; mongoose.Types.ObjectId(userId);
    let user &#x3D; await this.userModel.findById(userId, {
      boards: 1,
    });
    if (!user) throw new NotFoundException()

    let retBoards &#x3D; [];
    let permissions &#x3D; {};
    for (let i &#x3D; 0; i &lt; user.boards.length; i++) {
      let board &#x3D; await this.boardModel.findById(user.boards[i].boardId, {
        coverImages: 1,
        collaborators: 1,
        counts: 1,
        name: 1,
        pins: 1,
        sections: 1,
      });
      board.coverImages &#x3D; [];
      for (let c &#x3D; 0; c &lt; 3; c++) {
        if (c &lt; board.pins.length) {
          let coverPin &#x3D; await this.pinModel.findById(board.pins[c].pinId, {
            imageId: 1,
          });
          board.coverImages.push(coverPin.imageId);
        }
      }
      let createdOrjoined &#x3D; &#x27;created&#x27;;
      if (user.boards[i].createdOrjoined &#x3D;&#x3D; &#x27;joined&#x27;) {
        createdOrjoined &#x3D; &#x27;joined&#x27;;
        for (let j &#x3D; 0; j &lt; board.collaborators.length; j++) {
          if (String(board.collaborators[j].collaboratorId) &#x3D;&#x3D; String(userId)) {
            permissions &#x3D; {
              savePin: board.collaborators[j].savePin,
              createPin: board.collaborators[j].createPin,
              addCollaborators: board.collaborators[j].addCollaborators,
              editDescription: board.collaborators[j].editDescription,
              editTitle: board.collaborators[j].editTitle,
              personalization: board.collaborators[j].personalization,
            };
            break;
          }
        }
      }
      if (board) {
        retBoards.push({
          board: board,
          createdOrjoined: createdOrjoined,
          permissions: permissions,
        });
      }
    }
    return retBoards;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description get user authorized boards
   * @param {string} userId - the id of the current user
   * @param {string} boardUserId - the id of the boards user
   * @returns  {Promise&lt;Array&lt;object&gt;&gt;}
   */
  async getSomeUserBoards(userId, boardUserId) {
    if (
      (await this.ValidationService.checkMongooseID([userId, boardUserId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    userId &#x3D; mongoose.Types.ObjectId(userId);
    boardUserId &#x3D; mongoose.Types.ObjectId(boardUserId);

    let boardUser &#x3D; await this.userModel.findById(boardUserId, {
      boards: 1,
      email: 1,
    });
    if (!boardUser) throw new NotFoundException();
    if (boardUser.email &#x3D;&#x3D; process.env.ADMIN_EMAIL) {
      throw new UnauthorizedException();
    }
    let retBoards &#x3D; [];
    for (var i &#x3D; 0; i &lt; boardUser.boards.length; i++) {
      let board &#x3D; await this.boardModel.findById(boardUser.boards[i].boardId, {
        coverImages: 1,
        collaborators: 1,
        counts: 1,
        creator: 1,
        name: 1,
        pins: 1,
        sections: 1,
      });
      if (!board) continue;
      board.coverImages &#x3D; [];
      for (let c &#x3D; 0; c &lt; 3; c++) {
        if (c &lt; board.pins.length) {
          let coverPin &#x3D; await this.pinModel.findById(board.pins[c].pinId, {
            imageId: 1,
          });
          board.coverImages.push(coverPin.imageId);
        }
      }
      let collaborator &#x3D; await this.isCollaborator(board, userId);
      let isJoined &#x3D; false;
      let permissions &#x3D; {};
      if (collaborator) {
        isJoined &#x3D; true;
        permissions &#x3D; {
          savePin: collaborator.savePin,
          createPin: collaborator.createPin,
          addCollaborators: collaborator.addCollaborators,
          editDescription: collaborator.editDescription,
          editTitle: collaborator.editTitle,
          personalization: collaborator.personalization,
        };
      }

      retBoards.push({
        board: board,
        isJoined: isJoined,
        permissions: permissions,
      });
    }
    return retBoards;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description check if user is authorized to edit this board
   * @param {board} board
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;boolean&gt;}
   */
  async authorizedBoard(board, userId) {
    if (!board) return false;
    if (String(board.creator.id) &#x3D;&#x3D; String(userId)) return true;
    if (!board.collaborators) {
      board.collaborators &#x3D; [];
      await board.save();
    }
    for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
      if (String(board.collaborators[i].collaboratorId) &#x3D;&#x3D; String(userId)) {
        return true;
      }
    }
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description check if a board is public
   * @param {string} boardId - the id of the board
   * @returns  {Promise&lt;boolean&gt;}
   */
  async isPublicBoard(boardId) {
    let board &#x3D; await this.boardModel.findById(boardId,{status:1});
    if (!board) return false;
    if (!board.status || board.status &#x3D;&#x3D; &#x27;&#x27; || board.status &#x3D;&#x3D; &#x27;public&#x27;)
      return true;
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description check if a user is the creator of a board
   * @param {board} board
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;boolean&gt;}
   */
  async isCreator(board, userId) {
    if (!board) return false;
    if (String(board.creator.id) &#x3D;&#x3D; String(userId)) return true;
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description check if a user is a collaborator of a board
   * @param {board} board
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;boolean&gt;}
   */
  async isCollaborator(board, userId) {
    if (!board) return false;
    if (!board.collaborators) {
      board.collaborators &#x3D; [];
      await board.save();
    }
    for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
      if (String(board.collaborators[i].collaboratorId) &#x3D;&#x3D; String(userId)) {
        return board.collaborators[i];
      }
    }
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description Edit board by creator or collaborator
   * @param {string} boardId - the id of the board
   * @param {string} userId - the id of the user
   * @param {EditBoardDto} editBoardDto - the board new data object
   * @returns  {Promise&lt;board&gt;}
   */
  async editBoard(boardId, userId, editBoardDto: EditBoardDto) {
    if (
      (await this.ValidationService.checkMongooseID([boardId, userId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    userId &#x3D; mongoose.Types.ObjectId(userId);
    boardId &#x3D; mongoose.Types.ObjectId(boardId);
    let board &#x3D; await this.boardModel.findById(boardId, {
      name: 1,
      status: 1,
      startDate: 1,
      endDate: 1,
      createdAt: 1,
      description: 1,
      topic: 1,
      personalization: 1,
      collaborators: 1,
      creator: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    let creator &#x3D; await this.userModel.findById(
      board.creator.id,

      {
        boards: 1,
      },
    );
    if (!creator) {
      throw new BadRequestException(&#x27;no board creator found&#x27;);
    }
    if (!(await this.authorizedBoard(board, userId))) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to edit this board&#x27;,
      );
    }
    let isCreator &#x3D; await this.isCreator(board, userId);
    let isCollaborator &#x3D; await this.isCollaborator(board, userId);
    if (
      (isCreator || (isCollaborator &amp;&amp; isCollaborator.editTitle)) &amp;&amp;
      editBoardDto.name
    ) {
      board.name &#x3D; editBoardDto.name;

      for (var i &#x3D; 0; i &lt; creator.boards.length; i++) {
        if (String(boardId) &#x3D;&#x3D; String(creator.boards[i].boardId)) {
          creator.boards[i].name &#x3D; editBoardDto.name;
          await creator.save();
          break;
        }
      }
    }
    if (isCreator &amp;&amp; editBoardDto.endDate) {
      board.endDate &#x3D; editBoardDto.endDate;
    }
    if (isCreator &amp;&amp; editBoardDto.startDate) {
      board.startDate &#x3D; editBoardDto.startDate;
    }
    if (
      (isCreator || (isCollaborator &amp;&amp; isCollaborator.editDescription)) &amp;&amp;
      editBoardDto.description
    ) {
      board.description &#x3D; editBoardDto.description;
    }
    if (
      (isCreator || (isCollaborator &amp;&amp; isCollaborator.personalization)) &amp;&amp;
      editBoardDto.personalization
    ) {
      board.personalization &#x3D; editBoardDto.personalization;
    }

    if (editBoardDto.topic) {
      board.topic &#x3D; editBoardDto.topic;
      let topic &#x3D; await this.topicModel.findOne(
        { name: editBoardDto.topic },
        {
          recommendedUsers: 1,
        },
      );
      if (!topic.recommendedUsers) topic.recommendedUsers &#x3D; [];
      if (!topic.recommendedUsers.includes(creator._id)) {
        topic.recommendedUsers.push(userId);
        await topic.save();
      }
    }
    if (
      (isCreator || (isCollaborator &amp;&amp; isCollaborator.addCollaborators)) &amp;&amp;
      editBoardDto.collaboratores
    ) {
      let collaboratores &#x3D; await editBoardDto.collaboratores.split(&#x27;,&#x27;);
      for (var i &#x3D; 0; i &lt; collaboratores.length; i++) {
        if (
          (await this.ValidationService.checkMongooseID([collaboratores[i]])) &#x3D;&#x3D;
          0
        ) {
          continue;
        }
        let id &#x3D; mongoose.Types.ObjectId(collaboratores[i]);
        let collaborator &#x3D; await this.userModel.findById(
          id,

          { boards: 1 },
        );
        if (!collaborator) continue;
        if (!board.collaborators) board.collaborators &#x3D; [];
        board.collaborators.push({
          collaboratorId: id,
          savePin: true,
          createPin: true,
          personalization: true,
          editTitle: false,
          editDescription: false,
          addCollaborators: false,
        });

        collaborator.boards.push({
          boardId: boardId,
          name: board.name,
          createdAt: board.createdAt,
          isJoined: board.isJoined,
          createdOrjoined: &#x27;joined&#x27;,
        });
        await collaborator.save();
        await board.save();
      }
    }
    await board.save();
    return board;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description get collaborators of a board
   * @param {string} boardId - the id of the board
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;Array&lt;object&gt;&gt;}
   */
  async getCollaboratoresPermissions(userId, boardId) {
    if (
      (await this.ValidationService.checkMongooseID([boardId, userId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    boardId &#x3D; mongoose.Types.ObjectId(boardId);
    userId &#x3D; mongoose.Types.ObjectId(userId);
    let board &#x3D; await this.boardModel.findById(boardId, {
      status: 1,
      collaborators: 1,
      creator: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }

    let isCreator &#x3D; await this.isCreator(board, userId);
    let isCollaborator &#x3D; await this.isCollaborator(board, userId);
    if (!isCreator &amp;&amp; !isCollaborator) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to get this board permissions&#x27;,
      );
    }
    let retCollaborators &#x3D; [];
    for (var i &#x3D; 0; i &lt; board.collaborators.length; i++) {
      let collaborator &#x3D; await this.userModel.findById(
        board.collaborators[i].collaboratorId,

        {
          firstName: 1,
          lastName: 1,
          profileImage: 1,
          google: 1,
          googleImage: 1,
        },
      );
      retCollaborators.push({
        id: collaborator._id,
        imageId: collaborator.profileImage,
        google: collaborator.google,
        googleImage: collaborator.googleImage,
        name: collaborator.firstName + &#x27; &#x27; + collaborator.lastName,
        savePin: board.collaborators[i].savePin,
        createPin: board.collaborators[i].createPin,
        editTitle: board.collaborators[i].editTitle,
        personalization: board.collaborators[i].personalization,
        editDescription: board.collaborators[i].editDescription,
        addCollaborators: board.collaborators[i].addCollaborators,
      });
    }
    return retCollaborators;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description edit collaborators permission of a board by the board creator
   * @param {string} boardId - the id of the board
   * @param {string} userId - the id of the usersa
   * @param {EditCollaboratoresPermissionsDto} editCollaboratoresPermissionsDto - the new permissions object
   * @returns  {Promise&lt;object&gt;}
   */
  async editCollaboratoresPermissions(
    userId,
    boardId,
    editCollaboratoresPermissionsDto: EditCollaboratoresPermissionsDto,
  ) {
    let collaboratorId &#x3D; editCollaboratoresPermissionsDto.collaboratorId,
      savePin &#x3D; editCollaboratoresPermissionsDto.savePin,
      createPin &#x3D; editCollaboratoresPermissionsDto.createPin,
      addCollaborators &#x3D; editCollaboratoresPermissionsDto.addCollaborators,
      editTitle &#x3D; editCollaboratoresPermissionsDto.editTitle,
      personalization &#x3D; editCollaboratoresPermissionsDto.personalization,
      editDescription &#x3D; editCollaboratoresPermissionsDto.editDescription;
    if (
      (savePin !&#x3D; true &amp;&amp; savePin !&#x3D; false) ||
      (createPin !&#x3D; true &amp;&amp; createPin !&#x3D; false) ||
      (addCollaborators !&#x3D; true &amp;&amp; addCollaborators !&#x3D; false) ||
      (editTitle !&#x3D; true &amp;&amp; editTitle !&#x3D; false) ||
      (personalization !&#x3D; true &amp;&amp; personalization !&#x3D; false) ||
      (editDescription !&#x3D; true &amp;&amp; editDescription !&#x3D; false)
    ) {
      throw new BadRequestException(&#x27;permissions must be boolean values&#x27;);
    }
    if (
      (await this.ValidationService.checkMongooseID([
        boardId,
        userId,
        collaboratorId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }

    let board &#x3D; await this.boardModel.findById(boardId, {
      status: 1,
      collaborators: 1,
      creator: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    if (String(board.creator.id) !&#x3D; String(userId)) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to edit this board permissions&#x27;,
      );
    }
    for (var i &#x3D; 0; i &lt; board.collaborators.length; i++) {
      if (
        String(board.collaborators[i].collaboratorId) &#x3D;&#x3D; String(collaboratorId)
      ) {
        board.collaborators[i].savePin &#x3D; savePin;
        board.collaborators[i].createPin &#x3D; createPin;
        board.collaborators[i].editTitle &#x3D; editTitle;
        board.collaborators[i].addCollaborators &#x3D; addCollaborators;
        board.collaborators[i].personalization &#x3D; personalization;
        board.collaborators[i].editDescription &#x3D; editDescription;

        await board.save();
        return {
          id: board.collaborators[i].collaboratorId,
          savePin: board.collaborators[i].savePin,
          createPin: board.collaborators[i].createPin,
          editTitle: board.collaborators[i].editTitle,
          addCollaborators: board.collaborators[i].addCollaborators,
          personalization: board.collaborators[i].personalization,
          editDescription: board.collaborators[i].editDescription,
        };
      }
    }
    throw new Error();
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description delete collaborator from a board by the board creator
   * @param {string} boardId - the id of the board
   * @param {string} userId - the id of the user
   * @param {string} collaboratorId - the id of the collaborator
   * @returns  {Promise&lt;boolean&gt;}
   */
  async deleteCollaborator(userId, boardId, collaboratorId) {
    if (
      (await this.ValidationService.checkMongooseID([
        boardId,
        userId,
        collaboratorId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }

    let board &#x3D; await this.boardModel.findById(boardId, {
      status: 1,
      collaborators: 1,
      creator: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    if (String(board.creator.id) !&#x3D; String(userId)) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to get this board permissions&#x27;,
      );
    }
    let collaborator &#x3D; null;
    if (board.collaborators.length &#x3D;&#x3D; 0) {
      throw new NotFoundException(&#x27;this board has no collaboratores&#x27;);
    }

    for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
      if (
        String(board.collaborators[i].collaboratorId) &#x3D;&#x3D; String(collaboratorId)
      ) {
        collaborator &#x3D; await this.userModel.findById(
          board.collaborators[i].collaboratorId,
          { boards: 1 },
        );
        board.collaborators.splice(i, 1);
        await board.save();
        break;
      }
    }
    if (collaborator) {
      for (let index &#x3D; 0; index &lt; collaborator.boards.length; index++) {
        if (
          String(collaborator.boards[index].boardId) &#x3D;&#x3D; String(boardId) &amp;&amp;
          collaborator.boards[index].createdOrjoined &#x3D;&#x3D; &#x27;joined&#x27;
        ) {
          collaborator.boards.splice(index, 1);
          await collaborator.save();
          return true;
        }
      }
    } else {
      throw new NotAcceptableException(&#x27;collaborator not found&#x27;);
    }
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description delete pin from a board
   * @param {string} pinId - the id of the pin
   * @param {string} userId - the id of the user
   * @returns  {Promise&lt;boolean&gt;}
   */
  async deletePin(pinId, userId) {
    if ((await this.ValidationService.checkMongooseID([pinId, userId])) &#x3D;&#x3D; 0) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let pin &#x3D; await this.pinModel.findById(pinId, {
      board: 1,
      section: 1,
      topic: 1,
      savers: 1,
      creator: 1,
    });
    if (!pin) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }

    if (String(pin.creator.id) !&#x3D; String(userId)) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to delete this pin&#x27;,
      );
    }
    let creator &#x3D; await this.userModel.findById(pin.creator.id, {
      pins: 1,
    });
    if (!creator) {
      throw new NotAcceptableException(&#x27;not valid pin creator&#x27;);
    }
    for (let i &#x3D; 0; i &lt; creator.pins.length; i++) {
      if (String(creator.pins[i].pinId) &#x3D;&#x3D; String(pinId)) {
        let pinBoard &#x3D; await this.boardModel.findById(creator.pins[i].boardId, {
          sections: 1,
          pins: 1,
        });
        let pinSection &#x3D; pin.section;
        if (pinSection) {
          for (let j &#x3D; 0; j &lt; pinBoard.sections.length; j++) {
            if (String(pinBoard.sections[j]._id) &#x3D;&#x3D; String(pinSection)) {
              for (let k &#x3D; 0; k &lt; pinBoard.sections[j].pins.length; k++) {
                if (
                  String(pinBoard.sections[j].pins[k].pinId) &#x3D;&#x3D; String(pinId)
                ) {
                  pinBoard.sections[j].pins.splice(k, 1);
                  await pinBoard.save();
                  break;
                }
              }
            }
          }
        } else {
          for (let j &#x3D; 0; j &lt; pinBoard.pins.length; j++) {
            if (String(pinBoard.pins[j].pinId) &#x3D;&#x3D; String(pinId)) {
              pinBoard.pins.splice(j, 1);
              await pinBoard.save();
              break;
            }
          }
        }

        creator.pins.splice(i, 1);
        await creator.save();
        break;
      }
    }
    let savers &#x3D; [];
    for (let i &#x3D; 0; i &lt; pin.savers.length; i++) {
      let saverUser &#x3D; await this.userModel.findById(pin.savers[i], {
        savedPins: 1,
      });
      if (saverUser) {
        savers.push(saverUser);
      }
    }

    for (let k &#x3D; 0; k &lt; savers.length; k++) {
      for (let i &#x3D; 0; i &lt; savers[k].savedPins.length; i++) {
        if (String(savers[k].savedPins[i].pinId) &#x3D;&#x3D; String(pinId)) {
          let pinBoard &#x3D; await this.boardModel.findById(
            savers[k].savedPins[i].boardId,
            {
              pins: 1,
              sections: 1,
            },
          );
          let pinSection &#x3D; savers[k].savedPins[i].sectionId;
          if (pinSection) {
            for (let j &#x3D; 0; j &lt; pinBoard.sections.length; j++) {
              if (String(pinBoard.sections[j]._id) &#x3D;&#x3D; String(pinSection)) {
                for (let n &#x3D; 0; n &lt; pinBoard.sections[j].pins.length; n++) {
                  if (
                    String(pinBoard.sections[j].pins[n].pinId) &#x3D;&#x3D; String(pinId)
                  ) {
                    pinBoard.sections[j].pins.splice(n, 1);
                    await pinBoard.save();
                    break;
                  }
                }
              }
            }
          } else {
            for (let j &#x3D; 0; j &lt; pinBoard.pins.length; j++) {
              if (String(pinBoard.pins[j].pinId) &#x3D;&#x3D; String(pinId)) {
                pinBoard.pins.splice(j, 1);
                await pinBoard.save();
                break;
              }
            }
          }
          savers[k].savedPins.splice(i, 1);
          await savers[k].save();
          break;
        }
      }
    }
    let topic &#x3D; await this.topicModel.findOne({ name: pin.topic }, { pins: 1 });
    if (topic) {
      for (var i &#x3D; 0; i &lt; topic.pins.length; i++) {
        if (String(topic.pins[i]) &#x3D;&#x3D; String(pinId)) {
          topic.pins.splice(i, 1);
          await topic.save();
        }
      }
    }
    await this.pinModel.deleteOne({ _id: pinId });
    return true;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description delete pin from a board/section in delete board/section
   * @param {string} pinId - the id of the pin
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @param {string} sectionId - the id of the section
   * @returns  {Promise&lt;boolean&gt;}
   */
  async deletePinFromBoardSection(pinId, userId, boardId, sectionId) {
    if (
      (await this.ValidationService.checkMongooseID([
        pinId,
        boardId,
        userId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let user &#x3D; await this.userModel.findById(userId, { pins: 1 });
    if (!user) {
      throw new BadRequestException(&#x27;not valid user&#x27;);
    }
    let board &#x3D; await this.boardModel.findById(boardId, {
      collaborators: 1,
      creator: 1,
      status: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    if (String(board.creator.id) !&#x3D; String(userId)) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to delete pins from this board &#x27;,
      );
    }
    let found &#x3D; false;
    found &#x3D; await this.unsavePin(pinId, boardId, sectionId, userId, true);
    if (found) return true;

    for (let i &#x3D; 0; i &lt; user.pins.length; i++) {
      if (String(user.pins[i].pinId) &#x3D;&#x3D; String(pinId)) {
        await this.deletePin(pinId, userId);
        found &#x3D; true;
        break;
      }
    }

    if (!found) {
      for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
        let collaborator &#x3D; await this.userModel.findById(
          board.collaborators[i].collaboratorId,
          { pins: 1 },
        );
        if (collaborator) {
          for (let j &#x3D; 0; j &lt; collaborator.pins.length; j++) {
            if (String(collaborator.pins[j].pinId) &#x3D;&#x3D; String(pinId)) {
              await this.deletePin(
                pinId,
                board.collaborators[i].collaboratorId,
              );
              found &#x3D; true;
              break;
            }
          }
        }
      }
    }
    return found;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description delete board
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @returns  {Promise&lt;boolean&gt;}
   */

  async deleteBoard(userId, boardId) {
    if (
      (await this.ValidationService.checkMongooseID([boardId, userId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let user &#x3D; await this.userModel.findById(userId, { boards: 1 });
    if (!user) {
      throw new BadRequestException(&#x27;not valid user&#x27;);
    }
    let board &#x3D; await this.boardModel.findById(boardId, {
      pins: 1,
      collaborators: 1,
      sections: 1,
      creator: 1,
      status: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    if (String(board.creator.id) !&#x3D; String(userId)) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to delete this board &#x27;,
      );
    }
    for (var i &#x3D; 0; i &lt; user.boards.length; i++) {
      if (String(user.boards[i].boardId) &#x3D;&#x3D; String(boardId)) {
        user.boards.splice(i, 1);
        await user.save();
        break;
      }
    }
    for (var k &#x3D; 0; k &lt; board.collaborators.length; k++) {
      let collaborator &#x3D; await this.userModel.findById(
        board.collaborators[k].collaboratorId,
        {
          boards: 1,
        },
      );
      if (collaborator) {
        for (var i &#x3D; 0; i &lt; collaborator.boards.length; i++) {
          if (String(collaborator.boards[i].boardId) &#x3D;&#x3D; String(boardId)) {
            collaborator.boards.splice(i, 1);
            await collaborator.save();
            break;
          }
        }
      }
    }
    for (let i &#x3D; 0; i &lt; board.pins.length; i++) {
      let isDeleted &#x3D; await this.deletePinFromBoardSection(
        board.pins[i].pinId,
        userId,
        boardId,
        undefined,
      );
      if (!isDeleted) {
        throw new Error(&quot;error while deleting board&#x27;s pins&quot;);
      }
    }
    for (let i &#x3D; 0; i &lt; board.sections.length; i++) {
      for (let k &#x3D; 0; k &lt; board.sections[i].pins.length; k++) {
        let isDeleted &#x3D; await this.deletePinFromBoardSection(
          board.sections[i].pins[k].pinId,
          userId,
          boardId,
          board.sections[i]._id,
        );
        if (!isDeleted) {
          throw new Error(&quot;error while deleting board&#x27;s pins&quot;);
        }
      }
    }
    let isBoardDeleted &#x3D; await board.deleteOne();
    if (isBoardDeleted) return true;
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description delete board while merging it
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @returns  {Promise&lt;boolean&gt;}
   */
  async deleteBoardInMerge(userId, boardId) {
    if (
      (await this.ValidationService.checkMongooseID([boardId, userId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let user &#x3D; await this.userModel.findById(userId, { boards: 1 });
    if (!user) {
      throw new BadRequestException(&#x27;not valid user&#x27;);
    }
    let board &#x3D; await this.boardModel.findById(boardId, {
      creator: 1,
      collaborators: 1,
      status: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    if (String(board.creator.id) !&#x3D; String(userId)) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to delete this board &#x27;,
      );
    }
    for (let i &#x3D; 0; i &lt; user.boards.length; i++) {
      if (String(user.boards[i].boardId) &#x3D;&#x3D; String(boardId)) {
        user.boards.splice(i, 1);
        await user.save();
        break;
      }
    }
    for (let k &#x3D; 0; k &lt; board.collaborators.length; k++) {
      let collaborator &#x3D; await this.userModel.findById(
        board.collaborators[k].collaboratorId,
        { boards: 1 },
      );
      if (collaborator) {
        for (let i &#x3D; 0; i &lt; collaborator.boards.length; i++) {
          if (String(collaborator.boards[i].boardId) &#x3D;&#x3D; String(boardId)) {
            collaborator.boards.splice(i, 1);
            await collaborator.save();
            break;
          }
        }
      }
    }

    let isBoardDeleted &#x3D; await board.deleteOne();
    if (isBoardDeleted) return true;
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description create new section in a board
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @param {string} sectionName - the name of the section
   * @returns  {Promise&lt;section&gt;}
   */
  async createSection(boardId, sectionName, userId) {
    if (
      (await this.ValidationService.checkMongooseID([boardId, userId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }

    let board &#x3D; await this.boardModel.findById(boardId, {
      status: 1,
      collaborators: 1,
      creator: 1,
      sections: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    if (!(await this.authorizedBoard(board, userId))) {
      throw new UnauthorizedException(
        &#x27;this user is unauthorized to create section in this board&#x27;,
      );
    }
    if (!sectionName || sectionName &#x3D;&#x3D; &#x27;&#x27;) {
      throw new BadRequestException(&#x27;not valid section name&#x27;);
    }
    if (!board.sections) board.sections &#x3D; [];
    let section &#x3D; &lt;section&gt;(&lt;unknown&gt;{
      sectionName: sectionName,
      creatorId: userId,
      pins: [],
      coverImages: [],
    });
    board.sections.push(section);
    await board.save();
    return section;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description check if board has section
   * @param {board} board
   * @param {string} sectionId - the id of the section
   * @returns  {Promise&lt;boolean&gt;}
   */
  async checkBoardHasSection(board, sectionId): Promise&lt;Boolean&gt; {
    if ((await this.ValidationService.checkMongooseID([sectionId])) &#x3D;&#x3D; 0) {
      throw new BadRequestException(&#x27;not valid section id&#x27;);
    }
    for (let i &#x3D; 0; i &lt; board.sections.length; i++) {
      if (String(board.sections[i]._id) &#x3D;&#x3D; String(sectionId)) {
        return true;
      }
    }
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description merge two boards into one board
   * @param {string} userId - the id of the user
   * @param {string} boardOriginalId - the id of the board that will contain the 2 merged boards
   * @param {string} boardMergedId - the id of the board that will be merged then deleted
   * @returns  {Promise&lt;board&gt;}
   */
  async merge(boardOriginalId, boardMergedId, userId) {
    if (
      (await this.ValidationService.checkMongooseID([
        boardOriginalId,
        boardMergedId,
        userId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }

    let boardOriginal &#x3D; await this.boardModel.findById(boardOriginalId, {
      sections: 1,
      creator: 1,
      collaborators: 1,
    });
    let boardMerged &#x3D; await this.boardModel.findById(boardMergedId, {
      sections: 1,
      pins: 1,
      name: 1,
      creator: 1,
      coverImages: 1,
    });
    if (!boardOriginal || !boardMerged) {
      throw new BadRequestException(&#x27;not valid boards&#x27;);
    }

    let isAuthorized &#x3D; await this.authorizedBoard(boardOriginal, userId);
    if (!(String(userId) &#x3D;&#x3D; String(boardMerged.creator.id)) || !isAuthorized) {
      throw new UnauthorizedException(
        &#x27;user is unauthorized to merge these boards&#x27;,
      );
    }
    if (!boardOriginal.sections) boardOriginal.sections &#x3D; [];

    let originalName &#x3D;
      boardMerged.sections.length &#x3D;&#x3D; 0
        ? boardMerged.name
        : &#x60;${boardMerged.name}-Other&#x60;;
    let section &#x3D; &lt;section&gt;(&lt;unknown&gt;{
      sectionName: originalName,
      pins: boardMerged.pins,
      creatorId: userId,
      coverImages: boardMerged.coverImages,
    });
    boardOriginal.sections.push(section);
    for (let i &#x3D; 0; i &lt; boardMerged.pins.length; i++) {
      await this.editPin(
        boardMerged.pins[i].pinId,
        boardOriginalId,
        section._id,
        userId,
      );
    }
    for (let i &#x3D; 0; i &lt; boardMerged.sections.length; i++) {
      section &#x3D; &lt;section&gt;(&lt;unknown&gt;{
        sectionName: &#x60;${boardMerged.name}-${boardMerged.sections[i].sectionName}&#x60;,
        pins: boardMerged.sections[i].pins,
        creatorId: userId,
        coverImages: boardMerged.sections[i].coverImages,
      });

      boardOriginal.sections.push(section);
      for (let j &#x3D; 0; j &lt; boardMerged.sections[i].pins.length; j++) {
        await this.editPin(
          boardMerged.sections[i].pins[j].pinId,
          boardOriginalId,
          section._id,
          userId,
        );
      }
    }
    let checkDeleted &#x3D; await this.deleteBoardInMerge(userId, boardMergedId);
    if (!checkDeleted) {
      throw new Error(&#x27;boards couldnt be merged&#x27;);
    }
    await boardOriginal.save();
    return boardOriginal;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description delete section
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @param {string} sectionId - the id of the section
   * @returns  {Promise&lt;boolean&gt;}
   */
  async deleteSection(boardId, sectionId, userId) {
    if (
      (await this.ValidationService.checkMongooseID([
        boardId,
        userId,
        sectionId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }

    let board &#x3D; await this.boardModel.findById(boardId, {
      sections: 1,
      creator: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }

    for (let i &#x3D; 0; i &lt; board.sections.length; i++) {
      if (String(board.sections[i]._id) &#x3D;&#x3D; String(sectionId)) {
        let isAuthorized &#x3D;
          String(board.sections[i].creatorId) &#x3D;&#x3D; String(userId) ||
          String(board.creator.id) &#x3D;&#x3D; String(userId);
        if (!isAuthorized) {
          throw new UnauthorizedException(
            &#x27;this user is unauthorized to delete the section&#x27;,
          );
        }
        for (let k &#x3D; 0; k &lt; board.sections[i].pins.length; k++) {
          let isDeleted &#x3D; await this.deletePinFromBoardSection(
            String(board.sections[i].pins[k].pinId),
            userId,
            boardId,
            String(board.sections[i]._id),
          );
          if (!isDeleted) {
            throw new Error(&quot;error while deleting section&#x27;s pins&quot;);
          }
        }
        board.sections.splice(i, 1);
        await board.save().catch(err &#x3D;&gt; {
          console.log(err);
        });
        return true;
      }
    }
    return false;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description unsave pin from a board/section
   * @param {string} pinId - the id of the pin
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @param {string} sectionId - the id of the section
   * @param {boolean} isDelete - flag indicates if the unsave is performed in the delete board/section method
   * @returns  {Promise&lt;boolean&gt;}
   */
  async unsavePin(pinId, boardId, sectionId, userId, isDelete) {
    if (
      (await this.ValidationService.checkMongooseID([
        boardId,
        userId,
        sectionId,
        pinId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let user &#x3D; await this.userModel.findById(userId, { savedPins: 1 });
    if (!user) {
      throw new BadRequestException(&#x27;not valid user&#x27;);
    }
    let board &#x3D; await this.boardModel.findById(boardId, {
      creator: 1,
      sections: 1,
      pins: 1,
      collaborators: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }

    if (String(userId) !&#x3D; String(board.creator.id)) {
      throw new UnauthorizedException();
    }
    let found &#x3D; false;
    if (!isDelete) {
      if (sectionId) {
        for (let k &#x3D; 0; k &lt; board.sections.length; k++) {
          if (String(board.sections[k]._id) &#x3D;&#x3D; String(sectionId)) {
            for (let i &#x3D; 0; i &lt; board.sections[k].pins.length; i++) {
              if (String(board.sections[k].pins[i].pinId) &#x3D;&#x3D; String(pinId)) {
                board.sections[k].pins.splice(i, 1);
                await board.save();
                break;
              }
            }
            break;
          }
        }
      } else {
        for (let i &#x3D; 0; i &lt; board.pins.length; i++) {
          if (String(board.pins[i].pinId) &#x3D;&#x3D; String(pinId)) {
            board.pins.splice(i, 1);
            await board.save();
            break;
          }
        }
      }
    }
    for (let j &#x3D; 0; j &lt; user.savedPins.length; j++) {
      if (String(user.savedPins[j].pinId) &#x3D;&#x3D; String(pinId)) {
        user.savedPins.splice(j, 1);
        found &#x3D; true;
        await user.save().catch(err &#x3D;&gt; {
          console.log(err);
        });
        break;
      }
    }
    if (!found) {
      for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
        let collaborator &#x3D; await this.userModel.findById(
          board.collaborators[i].collaboratorId,
          { savedPins: 1 },
        );
        if (collaborator) {
          for (let j &#x3D; 0; j &lt; collaborator.savedPins.length; j++) {
            if (String(collaborator.savedPins[j].pinId) &#x3D;&#x3D; String(pinId)) {
              collaborator.savedPins.splice(j, 1);
              found &#x3D; true;
              break;
            }
          }
        }
      }
    }

    return found;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description edit pin&#x27;s board/section in the merge boards process
   * @param {string} pinId - the id of the pin
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the new pin&#x27;s board
   * @param {string} sectionId - the id of the new pin&#x27;s section
   * @returns  {Promise&lt;boolean&gt;}
   */
  async editPin(pinId, boardId, sectionId, userId) {
    if (
      (await this.ValidationService.checkMongooseID([
        boardId,
        pinId,
        sectionId,
        userId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let user &#x3D; await this.userModel.findById(userId, {
      pins: 1,
      savedPins: 1,
      lastName: 1,
      firstName: 1,
    });
    if (!user) {
      throw new BadRequestException(&#x27;not valid user&#x27;);
    }
    let board &#x3D; await this.boardModel.findById(boardId, { collaborators: 1 });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    let pin &#x3D; await this.pinModel.findById(pinId, {
      board: 1,
      section: 1,
      creator: 1,
    });
    if (!pin) {
      throw new BadRequestException(&#x27;not valid pin&#x27;);
    }
    let found &#x3D; false;
    for (let i &#x3D; 0; i &lt; user.pins.length; i++) {
      if (String(user.pins[i].pinId) &#x3D;&#x3D; String(pinId)) {
        user.pins[i].boardId &#x3D; boardId;
        user.pins[i].sectionId &#x3D; sectionId;
        pin.board &#x3D; boardId;
        pin.section &#x3D; sectionId;
        await user.save();
        await pin.save();
        found &#x3D; true;
        break;
      }
    }
    for (let i &#x3D; 0; i &lt; user.savedPins.length; i++) {
      if (String(user.savedPins[i].pinId) &#x3D;&#x3D; String(pinId)) {
        user.savedPins[i].boardId &#x3D; boardId;
        user.savedPins[i].sectionId &#x3D; sectionId;
        await user.save();
        found &#x3D; true;
        break;
      }
    }
    if (!found) {
      for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
        let collaborator &#x3D; await this.userModel.findById(
          board.collaborators[i].collaboratorId,
          { pins: 1, savedPins: 1 },
        );
        if (collaborator) {
          for (let j &#x3D; 0; j &lt; collaborator.pins.length; j++) {
            if (String(collaborator.pins[j].pinId) &#x3D;&#x3D; String(pinId)) {
              user.pins.push({
                pinId: collaborator.pins[j].pinId,
                boardId: boardId,
                sectionId: sectionId,
              });
              pin.creator.id &#x3D; userId;
              pin.creator.lastName &#x3D; user.lastName;
              pin.creator.firstName &#x3D; user.firstName;
              pin.board &#x3D; boardId;
              pin.section &#x3D; sectionId;
              collaborator.pins.splice(j, 1);
              await user.save();
              await collaborator.save();
              await pin.save();
              found &#x3D; true;
              break;
            }
          }
          if (!found) {
            for (let j &#x3D; 0; j &lt; collaborator.savedPins.length; j++) {
              if (String(collaborator.savedPins[j].pinId) &#x3D;&#x3D; String(pinId)) {
                user.savedPins.push({
                  pinId: collaborator.savedPins[j].pinId,
                  boardId: boardId,
                  sectionId: sectionId,
                  note: &#x27;&#x27;,
                });
                collaborator.savedPins.splice(j, 1);
                await user.save();
                await collaborator.save();
                found &#x3D; true;
                break;
              }
            }
          }
        }
        if (found) {
          break;
        }
      }
    }

    return true;
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description get full detailed board object
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @returns  {Promise&lt;object&gt;}
   */
  async getBoardFull(boardId, userId) {
    if (
      (await this.ValidationService.checkMongooseID([boardId, userId])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let user &#x3D; await this.userModel.findById(userId, { savedPins: 1 });
    if (!user) {
      throw new BadRequestException(&#x27;not valid user&#x27;);
    }
    let board &#x3D; await this.boardModel.findById(boardId, {
      pins: 1,
      creator: 1,
      collaborators: 1,
      status: 1,
      name: 1,
      description: 1,
      coverImages: 1,
      sections: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    board.coverImages &#x3D; [];
    for (let c &#x3D; 0; c &lt; 3; c++) {
      if (c &lt; board.pins.length) {
        let coverPin &#x3D; await this.pinModel.findById(board.pins[c].pinId, {
          imageId: 1,
        });
        board.coverImages.push(coverPin.imageId);
      }
    }
    let pins &#x3D; [];
    for (let i &#x3D; 0; i &lt; board.sections.length; i++) {
      board.sections[i].coverImages &#x3D; [];
      for (let c &#x3D; 0; c &lt; 3; c++) {
        if (c &lt; board.sections[i].pins.length) {
          let coverPin &#x3D; await this.pinModel.findById(
            board.sections[i].pins[c].pinId,
            { imageId: 1 },
          );
          board.sections[i].coverImages.push(coverPin.imageId);
        }
      }
    }
    for (let i &#x3D; 0; i &lt; board.pins.length; i++) {
      let pinType &#x3D; &#x27;none&#x27;;
      let pin &#x3D; await this.pinModel.findById(board.pins[i].pinId, {
        creator: 1,
        imageId: 1,
        imageHeight: 1,
        imageWidth: 1,
      });
      if (String(pin.creator.id) &#x3D;&#x3D; String(userId)) {
        pinType &#x3D; &#x27;creator&#x27;;
      } else {
        for (let k &#x3D; 0; k &lt; user.savedPins.length; k++) {
          if (String(user.savedPins[k].pinId) &#x3D;&#x3D; String(pin._id)) {
            pinType &#x3D; &#x27;saved&#x27;;
            break;
          }
        }
      }
      if (pin) {
        pins.push({ pin: pin, type: pinType });
      }
    }
    let type &#x3D; &#x27;none&#x27;;
    let permissions &#x3D; {};
    if (String(userId) &#x3D;&#x3D; String(board.creator.id)) {
      type &#x3D; &#x27;creator&#x27;;
    } else {
      for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
        if (String(userId) &#x3D;&#x3D; String(board.collaborators[i].collaboratorId)) {
          type &#x3D; &#x27;collaborator&#x27;;
          permissions &#x3D; {
            savePin: board.collaborators[i].savePin,
            createPin: board.collaborators[i].createPin,
            addCollaborators: board.collaborators[i].addCollaborators,
            editDescription: board.collaborators[i].editDescription,
            editTitle: board.collaborators[i].editTitle,
            personalization: board.collaborators[i].personalization,
          };
          break;
        }
      }
    }
    return { board: board, pins: pins, type: type, permissions: permissions };
  }
  /**
   * @author Nada AbdElmaboud &lt;nada5aled52@gmail.com&gt;
   * @description get full detailed section object
   * @param {string} userId - the id of the user
   * @param {string} boardId - the id of the board
   * @param {string} sectionId - the id of the section
   * @returns  {Promise&lt;object&gt;}
   */
  async getSectionFull(boardId, sectionId, userId) {
    if (
      (await this.ValidationService.checkMongooseID([
        boardId,
        sectionId,
        userId,
      ])) &#x3D;&#x3D; 0
    ) {
      throw new BadRequestException(&#x27;not valid id&#x27;);
    }
    let user &#x3D; await this.userModel.findById(userId, {
      savedPins: 1,
    });
    if (!user) {
      throw new BadRequestException(&#x27;not valid user&#x27;);
    }
    let board &#x3D; await this.boardModel.findById(boardId, {
      creator: 1,
      collaborators: 1,
      sections: 1,
    });
    if (!board) {
      throw new BadRequestException(&#x27;not valid board&#x27;);
    }
    let pins &#x3D; [];
    let sectionIndex;
    for (let j &#x3D; 0; j &lt; board.sections.length; j++) {
      if (String(board.sections[j]._id) &#x3D;&#x3D; String(sectionId)) {
        sectionIndex &#x3D; j;
        for (let i &#x3D; 0; i &lt; board.sections[j].pins.length; i++) {
          let pinType &#x3D; &#x27;none&#x27;;
          let pin &#x3D; await this.pinModel.findById(
            board.sections[j].pins[i].pinId,
            {
              creator: 1,
              imageId: 1,
              imageHeight: 1,
              imageWidth: 1,
            },
          );
          if (String(pin.creator.id) &#x3D;&#x3D; String(userId)) {
            pinType &#x3D; &#x27;creator&#x27;;
          } else {
            for (let k &#x3D; 0; k &lt; user.savedPins.length; k++) {
              if (String(user.savedPins[k].pinId) &#x3D;&#x3D; String(pin._id)) {
                pinType &#x3D; &#x27;saved&#x27;;
                break;
              }
            }
          }
          if (pin) {
            pins.push({ pin: pin, type: pinType });
          }
        }
        break;
      }
    }
    let type &#x3D; &#x27;none&#x27;;
    let permissions &#x3D; {};
    if (String(userId) &#x3D;&#x3D; String(board.creator.id)) {
      type &#x3D; &#x27;creator&#x27;;
    } else {
      for (let i &#x3D; 0; i &lt; board.collaborators.length; i++) {
        if (String(userId) &#x3D;&#x3D; String(board.collaborators[i].collaboratorId)) {
          type &#x3D; &#x27;collaborator&#x27;;
          permissions &#x3D; {
            savePin: board.collaborators[i].savePin,
            createPin: board.collaborators[i].createPin,
            addCollaborators: board.collaborators[i].addCollaborators,
            editDescription: board.collaborators[i].editDescription,
            editTitle: board.collaborators[i].editTitle,
            personalization: board.collaborators[i].personalization,
          };
          break;
        }
      }
    }
    return {
      section: board.sections[sectionIndex],
      pins: pins,
      type: type,
      permissions: permissions,
    };
  }
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'BoardService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
